ğŸ›¡ï¸ Embedded-LUKS-Provisioner
An automated, hardware-bound secure deployment system for Raspberry Pi.

ğŸ“ Overview
This project provides a robust, two-stage automated installation process for Raspberry Pi-based devices. It focuses on hardware-level data security through LUKS encryption and zero-touch deployment using orchestrated systemd services.

The primary goal is to protect intellectual property and sensitive data by binding the encrypted storage to the specific hardware (CPU Serial/SD CID), preventing unauthorized disk cloning or data theft.

ğŸš€ Key Features
Hardware-Bound Key Generation: Utilizes a custom C-based generator to create encryption keys derived from unique hardware identifiers.

Two-Stage Orchestration:

Phase 1: Disk partitioning, LUKS formatting, and initial data migration.

Phase 2: Post-reboot automated environment setup (Python/Pip) and system hardening.

Secure Auto-Unlock: Seamlessly mounts the encrypted partition at boot time without manual password entry, maintaining both security and usability.

Self-Cleaning Logic: Automatically removes installation scripts and temporary key files post-setup to prevent reverse engineering.

Service Integrity: Implements systemd dependencies to ensure the encrypted vault is ready before any application services (e.g., MariaDB, Web Server) start.

ğŸ“‚ Project Structure
Plaintext
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ keygen.c        # Logic for deriving unique keys from HW IDs
â”‚   â””â”€â”€ unlocker.c      # Binary utility for auto-unlocking LUKS during boot
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy.sh       # Main installation orchestrator (Phase 1)
â”‚   â””â”€â”€ post_install.sh # Post-reboot environment configuration (Phase 2)
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ secure-deploy.service # Template for one-time setup automation
â””â”€â”€ README.md

âš™ï¸ Deployment Workflow
Preparation: The deploy.sh script prepares the environment and compiles the security binaries.

Encryption: It formats the target partition using a key generated by keygen.c.

Migration: Data is moved into the encrypted container, and the original files are purged.

Reboot & Verify: Upon reboot, the system uses unlocker.c to open the vault.

Finalization: post_install.sh runs once to install dependencies, verifies system health, and then self-destructs to secure the device.

ğŸ› ï¸ Security Hardening
MariaDB Security Override: Configured to allow database access to paths within the encrypted mount point.

Stack Protection: unlocker.c is compiled with security flags (-fstack-protector-strong) to prevent common exploits.

Zero Trace: All setup scripts are deleted automatically after successful deployment.

ğŸ“œ License
This project is licensed under the MIT License - see the LICENSE file for details.

ğŸ¤ Contact
(Your Name) â€“ (Your LinkedIn/Email) - (Your Portfolio/Blog Link)
